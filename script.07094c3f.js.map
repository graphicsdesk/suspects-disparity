{"version":3,"sources":["script.js"],"names":["peoplePerLine","numPeople","numNoSuspect","ALPHABET","peoplesPerLine","minWidth","console","log","window","innerWidth","getIndices","id","indices","Array","fill","map","_","i","n","slice","drawPeople","el","document","getElementById","span","createElement","innerText","Math","random","length","classList","add","appendChild","onload"],"mappings":";AAAA,IAWIA,EAXEC,EAAY,CAAmB,gBAAA,IAAsB,gBAAA,IACrDC,EAAe,CAAmB,gBAAA,GAAqB,gBAAA,GAIvDC,EAAW,uDACXC,EAAiB,CAClB,EAAA,GACE,IAAA,GACA,IAAA,IAGP,IAAK,IAAMC,KAAYD,EACrBE,QAAQC,IAAIC,OAAOC,WAAYJ,GAC3BG,OAAOC,WAAaJ,IACtBL,EAAgBI,EAAeC,IAMnC,SAASK,EAAWC,GACZC,IAAAA,EAAU,IAAIC,MAAMZ,EAAUU,IAAKG,OAAOC,IAAI,SAACC,EAAGC,GAAMA,OAAAA,IACxDC,EAAIhB,EAAaS,GAEhBC,OAAAA,EAAQO,MAAM,EAAGD,GAG1B,SAASE,EAAWT,GAIb,IAHCU,IAAAA,EAAKC,SAASC,eAAeZ,GAG1BM,EAAI,EAAGA,EAAIhB,EAAUU,GAAKM,IAAK,CAChCO,IAAAA,EAAOF,SAASG,cAAc,QACpCD,EAAKE,UAAYvB,EAAUwB,KAAKC,SAAWzB,EAAS0B,QAAW,GAC3DZ,EAAIf,EAAaS,IACnBa,EAAKM,UAAUC,IAAI,oBACrBV,EAAGW,YAAYR,IACVP,EAAI,GAAKjB,GAAiB,GAC7BqB,EAAGW,YAAYV,SAASG,cAAc,QAI5CjB,OAAOyB,OAAS,WACdb,EAAW,iBACXA,EAAW","file":"script.07094c3f.js","sourceRoot":"../src","sourcesContent":["const numPeople = { 'black-victims': 197, 'white-victims': 26 };\nconst numNoSuspect = { 'black-victims': 65, 'white-victims': 5 };\n\n/* Alphabet icon generating */\n\nconst ALPHABET = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nconst peoplesPerLine = {\n  0: 13,\n  460: 13,\n  600: 26,\n};\nlet peoplePerLine;\nfor (const minWidth in peoplesPerLine) {\n  console.log(window.innerWidth, minWidth)\n  if (window.innerWidth > minWidth) {\n    peoplePerLine = peoplesPerLine[minWidth];\n  }\n}\n\n// TODO: ADD WINDOW RESIZE\n\nfunction getIndices(id) {\n  const indices = new Array(numPeople[id]).fill().map((_, i) => i);\n  const n = numNoSuspect[id];\n  // return indices.sort(() => .5 - Math.random()).slice(0, n); // Random\n  return indices.slice(0, n); // Front\n}\n\nfunction drawPeople(id) {\n  const el = document.getElementById(id);\n  \n  const letters = [];\n  for (let i = 0; i < numPeople[id]; i++) {\n    const span = document.createElement('span');\n    span.innerText = ALPHABET[(Math.random() * ALPHABET.length) << 0];\n    if (i < numNoSuspect[id])\n      span.classList.add('highlight-person');\n    el.appendChild(span);\n    if ((i + 1) % peoplePerLine == 0)\n      el.appendChild(document.createElement('br'))\n  }\n}\n\nwindow.onload = () => {\n  drawPeople('black-victims');\n  drawPeople('white-victims');\n};\n\n/* Text balancing maybe */\n\n// import textBalancer from 'text-balancer';\n// textBalancer.balanceText('.victims');\n\n/* D3 force stuff */\n/*\n\nfunction forceIcons() {\n  var PIXEL_RATIO = (function () {\n    var ctx = document.createElement(\"canvas\").getContext(\"2d\"),\n      dpr = window.devicePixelRatio || 1,\n      bsr = ctx.webkitBackingStorePixelRatio ||\n            ctx.mozBackingStorePixelRatio ||\n            ctx.msBackingStorePixelRatio ||\n            ctx.oBackingStorePixelRatio ||\n            ctx.backingStorePixelRatio || 1;\n\n    return dpr / bsr;\n  })();\n\n  const createHiDPICanvas = (w, h, ratio) => {\n    if (!ratio) { ratio = PIXEL_RATIO; }\n    var can = document.createElement(\"canvas\");\n    can.width = w * ratio;\n    can.height = h * ratio;\n    can.style.width = w + \"px\";\n    can.style.height = h + \"px\";\n    can.getContext(\"2d\").setTransform(ratio, 0, 0, ratio, 0, 0);\n    return can;\n  };\n\n  var canvas = createHiDPICanvas(500, 250);\n  document.getElementById('canvas-container').appendChild(canvas);\n  var context = canvas.getContext(\"2d\"),\n      width = canvas.width,\n      height = canvas.height,\n      tau = 2 * Math.PI;\n\n  var nodes = d3.range(1100).map(function(i) {\n    return {\n      person: ALPHABET[(Math.random() * ALPHABET.length) << 0],\n      r: 6,\n    };\n  });\n\n  var simulation = d3.forceSimulation(nodes)\n      .velocityDecay(0.2)\n      .force(\"x\", d3.forceX().strength(0.002))\n      .force(\"y\", d3.forceY().strength(0.002))\n      .force(\"collide\", d3.forceCollide().radius(function(d) { return d.r + 0.5; }).iterations(2))\n      .on(\"tick\", ticked);\n\n  function ticked() {\n    context.clearRect(0, 0, width, height);\n    context.save();\n    context.translate(width / 2, height / 2);\n\n    context.beginPath();\n    nodes.forEach(function(d) {\n      context.font = 'normal 20px WeePeople';\n      context.fillText(d.person, d.x, d.y);\n      // context.moveTo(d.x + d.r, d.y);\n      // context.arc(d.x, d.y, d.r, 0, tau);\n    });\n    context.fillStyle = \"#ddd\";\n    context.fill();\n    context.strokeStyle = \"#333\";\n    context.stroke();\n\n    context.restore();\n  }\n}\n\n*/"]}