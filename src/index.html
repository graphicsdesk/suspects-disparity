<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./styles.scss" inline="inline">
</head>

<body>
  <p class="weepeople victims" id="black-victims" data-percentage="33"></p>

  <p class="weepeople victims" id="white-victims" data-percentage="19"></p>

  <div id="canvas-container"></div>

  <!-- scripts -->
  <script>
    const NUM_PEOPLE = 100;
    const ALPHABET = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';

    function randomIndices(n) {
      const indices = new Array(NUM_PEOPLE).fill().map((_, i) => i);
      return indices.sort(() => .5 - Math.random()).slice(0, n);
    }

    function drawPeople(id) {
      const el = document.getElementById(id);
      
      const letters = [];
      const indices = randomIndices(parseInt(el.getAttribute('data-percentage')));
      for (let i = 0; i < NUM_PEOPLE; i++) {
        const span = document.createElement('span');
        span.innerText = ALPHABET[(Math.random() * ALPHABET.length) << 0];
        if (indices.includes(i))
          span.classList.add('highlight-person');
        el.appendChild(span);
      }
    }    
    drawPeople('black-victims');
    drawPeople('white-victims');
  </script>

  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="./script.js" inline="inline"></script>
</body>